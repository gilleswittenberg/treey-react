(this["webpackJsonptreey-react"]=this["webpackJsonptreey-react"]||[]).push([[0],{114:function(e,t,n){e.exports=n(241)},140:function(e,t){},142:function(e,t){},174:function(e,t){},175:function(e,t){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(108),u=n.n(c),i=n(5),o={alerts:[],show:function(){throw new Error("UIContext not implemented")}},s=Object(r.createContext)(o),l=function(e){var t=e.children,n=Object(r.useState)([]),c=Object(i.a)(n,2),u=c[0],o=c[1],l={alerts:u,show:function(e,t){!function(e){o(u.concat(e))}({message:e,type:t})}};return a.a.createElement(s.Provider,{value:l},t)},f=n(2),p=n.n(f),m=n(6),v={tree:void 0,treey:void 0},d=Object(r.createContext)(v),b=n(7),h=n.n(b),E=h.a.init,O=h.a.read,g=h.a.createAndAdd,x=h.a.update,w=h.a.remove,k=h.a.move,j=h.a.clone,y=function(){var e=Object(r.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){var e=!1;return function(){var t=Object(m.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:if(n=t.sent,!e){t.next=5;break}return t.abrupt("return");case 5:a(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[]);var c={init:E,read:function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createAndAdd:function(){var e=Object(m.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,n);case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(m.a)(p.a.mark((function e(t,n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t,n);case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(m.a)(p.a.mark((function e(t,n,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,n,r);case 2:c=e.sent,a(c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),move:function(){var e=Object(m.a)(p.a.mark((function e(t,n,r,c,u){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t,n,r,c,u);case 2:i=e.sent,a(i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),clone:j};return[n,c]},D=function(e){return Object(b.createFullName)(e).slice(0,7)},C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},A=function(e){var t=e.children,n=y(),c=Object(i.a)(n,2),u=c[0],o=c[1],l=o.read,f=o.createAndAdd,v=o.update,b=o.remove,h=o.move,E=o.init,O=o.clone,g=Object(r.useContext)(s).show,x={tree:u,treey:{read:l,createAndAdd:function(){var e=Object(m.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,n);case 2:g(C("createAndAdd",D(n)));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(m.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,n);case 2:g(C("update",D(t)));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(m.a)(p.a.mark((function e(t,n,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t,n,r);case 2:g(C("remove",D(t),D(n)));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),move:function(){var e=Object(m.a)(p.a.mark((function e(t,n,r,a,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,n,r,a,c);case 2:g(C("move",D(t),D(n),D(r)));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),init:E,clone:O}};return a.a.createElement(d.Provider,{value:x},t)},N=function(){throw new Error("UIContext not implemented")},S={isShownForm:N,setShownForm:N,unsetShownForm:N,isOpen:N,setOpen:N,unsetOpen:N,isDragging:N,setDragging:N,unsetDragging:N,active:void 0,isActive:N,setActive:N,changeActive:N,clear:N},F=Object(r.createContext)(S),I=n(23),P=function e(t,n){var r=[];return t.forEach((function(t){var a=n.includes(t.path),c=t.relations.length>1,u=a&&c?e(t.relations,n):[],i=Object(I.a)({},t,{relations:u});r.push(i)})),r},T=function(e){var t;return null===(t=e.state.ids)||void 0===t?void 0:t[0]},B=function(e){var t;return null===(t=e.state)||void 0===t?void 0:t.data},L=function(e){return"string"===typeof e?e:JSON.stringify(e,void 0,1)},J=function(e){try{return JSON.parse(e)}catch(t){return e}},R=function(e){return"".concat(e,"/add")},H=function(e){return e.split("/").map((function(e){return Object(b.parseFullName)(e)})).filter((function(e){return void 0!==e}))},W=function(e){return"/add"===e.slice(-4)},_=function e(t,n){var r=T(t),a=void 0!==r?n.concat(r):n,c=t.path?t.path:function(e){return e.map((function(e){return Object(b.createFullName)(e)})).join("/")}(a),u=Object(I.a)({},t,{path:c});return[u,u.relations.map((function(t){return e(t,a)}))].flat(1/0)},K=function(e){return e.map((function(e){return _(e,[])})).flat(1/0)},M=function e(t,n){var r=[];return t.forEach((function(t,a){var c=n?"".concat(n,"/").concat(a,"/"):"",u="".concat(c).concat(Object(b.createFullName)(T(t))),i=e(t.relations,u),o={state:{},events:[],relations:[],name:"add",isCyclic:!1,isKnown:!0,isDestroyed:!1,path:R(u)};i.push(o);var s=Object(I.a)({},t,{relations:i,path:u});r.push(s)})),r},U=function(){var e=Object(r.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1];return[n,function(e){return void 0===e?void 0!==n:e===n},function(e){return a(e)},function(){return a(void 0)}]},V=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=function(e){return n.includes(e)};return[n,c,function(e){c(e)||a(n.concat(e))},function(e){a(n.filter((function(t){return t!==e})))}]},q=function(e){var t=e.children,n=U(),c=Object(i.a)(n,4),u=c[1],o=c[2],s=c[3],l=V(),f=Object(i.a)(l,4),p=f[0],m=f[1],v=f[2],h=f[3],E=U(),O=Object(i.a)(E,4),g=O[1],x=O[2],w=O[3],k=U(),j=Object(i.a)(k,4),y=j[0],D=j[1],C=j[2],A=j[3],N=Object(r.useContext)(d).tree,S={isShownForm:u,setShownForm:o,unsetShownForm:s,isOpen:m,setOpen:v,unsetOpen:h,isDragging:g,setDragging:x,unsetDragging:w,active:y,isActive:D,setActive:C,changeActive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next";if(void 0!==N){var t=M([N]),n=Object(b.createFullName)(T(N)),r=[n].concat(p),a=P(t,r),c=K(a),u=c.slice(1),i=function(){var e=u[0].path;C(e)};if(!1===D())i();else{var o=u.findIndex((function(e){return D(e.path)}));if(-1===o)return i();var s="next"===e?o+1:o-1,l=u.length-1,f=s>l?0:s<0?l:s,m=u[f].path;C(m)}}},clear:function(e){var t=R(e);(u(e)||u(t))&&s(),(D(e)||u(t))&&A(),g(e)&&w(),m(e)&&h(e)}};return a.a.createElement(F.Provider,{value:S},t)},$=n(22),z="gilleswittenberg.github.io"===window.location.host?"/treey-react/":"/",G=(n(226),function(){return a.a.createElement("header",{className:"Header"},a.a.createElement($.a,{to:z},a.a.createElement("h1",null,a.a.createElement("img",{src:"/treey-react/images/logo_64x64.png",width:"32px",height:"32px",alt:"\u6728"})),a.a.createElement("h2",null,"treey")))}),Q=(n(227),function(){return a.a.createElement("p",{className:"Spinner"},"is loading\u2026")}),X=n(10),Y=n.n(X),Z=(n(228),function e(t){var n=t.message,r=t.type,c=void 0===r?"message":r,u={Alert:e,isWarning:"warning"===c,isError:"error"===c};return a.a.createElement("div",{className:Y()(u)},a.a.createElement("p",null,n))}),ee=function(e){return e[e.length-1]},te=(n(229),function(){var e=Object(r.useContext)(s).alerts,t=ee(e),n=Object(r.useState)(!1),c=Object(i.a)(n,2),u=c[0],o=c[1],l=Object(r.useRef)(),f=function(){return window.clearTimeout(l.current)};Object(r.useEffect)((function(){return o(!0),f(),l.current=window.setTimeout((function(){return o(!1)}),3e3),f}),[e]);var p=void 0!==t&&u;return a.a.createElement("div",{className:"Alerts"},p&&a.a.createElement(Z,{message:t.message,type:t.type}))}),ne=n(245),re=n(244),ae=function(e){var t=e.data,n=/^https?:\/\//.test(t);return a.a.createElement("span",{className:"ItemData"},n?a.a.createElement("a",{href:t,onClick:function(e){return e.stopPropagation()}},t):t)},ce=(n(230),function(e){var t=e.type,n=e.onClick,r=e.onFocus,c="Button "+t,u={backgroundImage:'url("'.concat("/treey-react","/images/").concat(function(e){switch(e){case"ADD":return"add_64x64.png";case"EDIT":return"submit_64x64.png";case"DELETE":return"remove_64x64.png"}}(t),'")')};return a.a.createElement("button",{className:c,style:u,onClick:n,onFocus:r,title:t},t)}),ue=function(e){window.setTimeout(e,1)},ie=function(e){var t=e.path,n=e.parent,c=e.index,u=e.item,o=e.isOver,s=e.onClick,l=e.onDoubleClick,f=e.onClickAdd,v=e.onClickEdit,b=e.onClickDelete,h=T(u),E=h,O=Object(r.useContext)(F),g=O.isDragging,x=O.setDragging,w=O.unsetDragging,k=O.setOpen,j=O.isActive,y=O.setActive,D=Object(r.useContext)(d).treey,C=g(),A=j(t),N=Object(r.useState)(!1),S=Object(i.a)(N,2),I=S[0],P=S[1],J=Object(re.a)({item:{type:"item",parent:n,index:c,id:h,path:t},begin:function(){return ue((function(){return x(t)}))},end:function(){return w()},collect:function(e){return{isDragging:e.isDragging()}}}),R=Object(i.a)(J,2),H=R[0].isDragging,W=R[1],_=u.relations.length>0,K=!_,M=I&&!H&&!C,U=B(u),V=L(U),q="".concat(z,"item/").concat(u.name),G=Object(ne.a)({accept:"item",drop:function(){var e=Object(m.a)(p.a.mark((function e(n,r){var a,c,u,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(a=n).id,u=a.parent,i=a.index,null!=(o=E)){e.next=7;break}return e.abrupt("return");case 7:if(null!=D){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,D.move(c,u,o,i);case 11:k(t);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),collect:function(e){return{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),Q=Object(i.a)(G,2),X=Q[0].isOver,Z=Q[1],ee=H,te=o&&!_||X,ie=X,oe=Object(r.useRef)(null);Object(r.useEffect)((function(){null!=oe.current&&!1!==A&&oe.current.focus()}),[A,oe]);return a.a.createElement("div",{className:Y()("ItemBodyWrap",{isActive:A,isDisabled:ee})},a.a.createElement("div",{ref:W,className:Y()("ItemBody",{showAddButton:K,showButtons:M,showDrop:te}),onMouseEnter:function(){return P(!0)},onMouseLeave:function(){return P(!1)}},a.a.createElement("span",{ref:oe,onClick:s,onDoubleClick:l,tabIndex:0,onFocus:function(){y(t)}},a.a.createElement(ae,{data:V}),a.a.createElement($.a,{to:q,className:"info"},"\u24d8")),te&&a.a.createElement("div",{ref:Z,className:"ItemAddDrop"},a.a.createElement(ce,{type:"ADD"})),K&&a.a.createElement(ce,{type:"ADD",onClick:f}),a.a.createElement(ce,{type:"EDIT",onClick:v}),a.a.createElement(ce,{type:"DELETE",onClick:b})),a.a.createElement("div",{className:Y()("DnDPlaceholder","DnDPlaceholderChild",{isShown:ie})},a.a.createElement("div",null)))},oe=(n(232),function(e){var t=e.parent,n=e.path,c=e.index,u=e.item,o=e.onClick,s=e.onDoubleClick,l=e.onClickAdd,f=e.onClickEdit,v=e.onClickDelete,b=Object(r.useContext)(d).treey,h=Object(r.useRef)(null),E=Object(r.useState)(),O=Object(i.a)(E,2),g=O[0],x=O[1],w=Object(ne.a)({accept:"item",canDrop:function(e,t){return t.getItem().path!==n},hover:function(e,t){var n=t.getClientOffset(),r=h&&h.current&&h.current.getBoundingClientRect();if(r&&n){var a=n.y-r.top;x(a<=28?"top":"bottom")}},drop:function(){var e=Object(m.a)(p.a.mark((function e(n,r){var a,u,i,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.didDrop()){e.next=2;break}return e.abrupt("return");case 2:if(u=(a=n).id,i=a.parent,o=a.index,s=c+("bottom"===g?1:0)-(i===t&&o<c?1:0),i!==t||o!==s){e.next=9;break}return e.abrupt("return");case 9:if(null!=b){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,b.move(u,i,t,o,s);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),collect:function(e){return{isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}}}),k=Object(i.a)(w,2),j=k[0],y=j.canDrop,D=j.isOver,C=k[1],A=D&&y,N=A&&"top"===g,S=A&&"bottom"===g;return a.a.createElement("div",{ref:h},a.a.createElement("div",{ref:C},a.a.createElement("div",{className:Y()("DnDPlaceholder",{isShown:N})},a.a.createElement("div",null)),a.a.createElement(ie,{path:n,parent:t,index:c,item:u,isOver:D,onClick:o,onDoubleClick:s,onClickAdd:l,onClickEdit:f,onClickDelete:v}),a.a.createElement("div",{className:Y()("DnDPlaceholder",{isShown:S})},a.a.createElement("div",null))))}),se=function(e){var t=e.submit,n=e.initialValue,c=void 0===n?"":n,u=Object(r.useState)(c),o=Object(i.a)(u,2),s=o[0],l=o[1],f=function(){var e=Object(m.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(s);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("form",{onSubmit:f},a.a.createElement("input",{type:"text",value:s,onChange:function(e){l(e.target.value)},ref:function(e){return e&&e.focus()}}),a.a.createElement(ce,{type:"EDIT"}))},le=n(111),fe=(n(233),function(e){var t=e.path,n=e.parent,c=e.index,u=e.item,i=T(u),o="".concat(t,"/").concat(c,"/").concat(u.name),s=R(o),l=B(u),f=L(l),v=u.relations.length>0,b=Object(r.useContext)(d).treey,h=function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=b){e.next=2;break}return e.abrupt("return");case 2:if(null!=i){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,b.remove(i,n,c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=Object(r.useContext)(F),O=E.isShownForm,g=E.setShownForm,x=E.unsetShownForm,w=E.isOpen,k=E.setOpen,j=E.unsetOpen,y=E.isDragging,D=E.setActive,C=E.clear,A=w(o),N=O(o),S=y(o),I=S||!N,P=!S&&N,H=!S&&(A&&v||O(s)),W=Object(r.useRef)(o);Object(r.useEffect)((function(){var e=W.current;if(e!==o)return C(e),w(e)&&k(o),function(){return C(o)}}),[o,C,i,w,k]);var _=function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:j(o),D(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(),""!==(n=t.trim())){e.next=4;break}return e.abrupt("return",h());case 4:if(r=J(n),!Object(le.isEqual)(l,r)){e.next=7;break}return e.abrupt("return");case 7:if(null!=b){e.next=9;break}return e.abrupt("return");case 9:if(null!=i){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,b.update(i,r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"Item",onClick:function(e){return e.stopPropagation()}},a.a.createElement("div",{className:Y()({isHidden:!I})},a.a.createElement(oe,{parent:n,path:o,index:c,item:u,onClick:function(){D(o),!1===O(o)&&x();var e=window.getSelection();if((!e||""===e.toString())&&v)return A?A?j(o):void 0:k(o)},onDoubleClick:function(){k(o),g(s)},onClickAdd:function(){g(s),k(o),D(s)},onClickEdit:function(){g(o),D(o)},onClickDelete:_})),a.a.createElement("div",{className:Y()("ItemFormWrap",{isHidden:!P})},a.a.createElement(se,{submit:K,initialValue:f})),a.a.createElement("div",{className:Y()({isHidden:!H})},a.a.createElement(me,{parent:i,path:o,items:u.relations})))}),pe=(n(234),function(e){var t=e.path,n=e.parent,c=e.isDisabled,u=R(t),i=Object(r.useContext)(F),o=i.isShownForm,s=i.setShownForm,l=i.unsetShownForm,f=i.isActive,v=i.setActive,b=i.setOpen,h=Object(r.useContext)(d).treey,E=o(u),O=c||!E,g=f(u),x=function(){var e=Object(m.a)(p.a.mark((function e(r){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(),b(t),""!==(a=r.trim())){e.next=5;break}return e.abrupt("return");case 5:if(void 0!==h){e.next=7;break}return e.abrupt("return");case 7:return c=J(a),e.next=10,h.createAndAdd(c,n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:Y()("FormAdd",{isDisabled:c,isActive:g}),onClick:function(e){return e.stopPropagation()}},O&&a.a.createElement(ce,{onClick:function(){s(u),v(u)},onFocus:function(){v(u)},type:"ADD"}),E&&a.a.createElement(se,{submit:x}))}),me=(n(235),function(e){var t=e.path,n=e.parent,c=e.items,u=Object(r.useContext)(F).isDragging,i=c.length>0,o=u();return a.a.createElement("div",{className:"Items"},i&&a.a.createElement("ul",null,c.map((function(e,r){var c="".concat(t,"/").concat(r,"/").concat(e.name);return a.a.createElement("li",{key:c},a.a.createElement(fe,{path:t,parent:n,index:r,item:e}))}))),a.a.createElement(pe,{path:t,parent:n,isDisabled:o}))}),ve=n(243),de=n(112),be=function(){var e=Object(r.useContext)(F),t=e.isShownForm,n=e.setShownForm,a=e.unsetShownForm,c=e.setOpen,u=e.isOpen,i=e.unsetOpen,o=e.active,s=e.setActive,l=e.changeActive,f=Object(r.useContext)(d),v=f.tree,b=f.treey;return Object(r.useEffect)((function(){var e=function(e){if(null==v)return!1;if(W(e))return!1;var t=function(e,t){var n=function(e,t){return void 0!==e&&void 0!==t&&(e.name===t.name&&e.protocol===t.protocol)},r=function(e,t){return e.relations.find((function(e){return n(T(e),t)}))},a=H(t);if(!1!==n(T(e),a[0])){a=a.slice(1);for(var c=e;a.length>0;){var u=a[0];if(a=a.slice(1),void 0===(c=r(c,u)))return}return c}}(v,e);return void 0!==t&&t.relations.length>0},r=function(){var r=Object(m.a)(p.a.mark((function r(f){var m,v,d,h;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t()||27===f.keyCode){r.next=2;break}return r.abrupt("return");case 2:r.t0=f.keyCode,r.next=40===r.t0||75===r.t0?5:38===r.t0||73===r.t0?7:39===r.t0||76===r.t0?9:37===r.t0||74===r.t0?15:13===r.t0?21:27===r.t0?26:187===r.t0?31:8===r.t0?40:56;break;case 5:return l(),r.abrupt("break",56);case 7:return l("prev"),r.abrupt("break",56);case 9:if(void 0!==o){r.next=11;break}return r.abrupt("return");case 11:if(!u(o)&&!1!==e(o)){r.next=13;break}return r.abrupt("return",l());case 13:return c(o),r.abrupt("break",56);case 15:if(void 0!==o){r.next=17;break}return r.abrupt("return");case 17:if(!1!==u(o)){r.next=19;break}return r.abrupt("return",l("prev"));case 19:return i(o),r.abrupt("break",56);case 21:if(f.preventDefault(),void 0!==o){r.next=24;break}return r.abrupt("return");case 24:return n(o),r.abrupt("break",56);case 26:if(a(),void 0!==o){r.next=29;break}return r.abrupt("return");case 29:return W(o)&&s(W(p=o)?p.slice(0,-4):p),r.abrupt("break",56);case 31:if(!1!==f.shiftKey){r.next=33;break}return r.abrupt("return");case 33:if(void 0!==o){r.next=35;break}return r.abrupt("return");case 35:return f.preventDefault(),m=W(o)?o:R(o),n(m),s(m),r.abrupt("break",56);case 40:if(void 0!==b){r.next=42;break}return r.abrupt("return");case 42:if(void 0!==o){r.next=44;break}return r.abrupt("return");case 44:if(v=H(o),void 0!==(d=ee(v))){r.next=48;break}return r.abrupt("return");case 48:if(void 0!==(h=ee(v.slice(0,-1)))){r.next=51;break}return r.abrupt("return");case 51:return l("prev"),i(o),r.next=55,b.remove(d,h);case 55:return r.abrupt("break",56);case 56:case"end":return r.stop()}var p}),r)})));return function(e){return r.apply(this,arguments)}}();return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}),[t,n,a,u,c,i,o,s,l,v,b]),null},he=function(){var e=Object(r.useContext)(F).unsetShownForm;return Object(r.useEffect)((function(){return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}}),[e]),null},Ee=(n(236),function(e){var t=e.tree,n=(e.treey,t.relations),c=T(t),u=void 0!==c,i=c,o=Object(b.createFullName)(c),s=Object(r.useContext)(F),l=s.isActive,f=s.changeActive;return Object(r.useEffect)((function(){!1===l()&&f()}),[l,f]),a.a.createElement("div",{className:"Tree"},u&&a.a.createElement(a.a.Fragment,null,a.a.createElement(be,null),a.a.createElement(he,null),a.a.createElement(ve.a,{backend:de.a},a.a.createElement(me,{path:o,parent:i,items:n}))))}),Oe=(n(237),function(){var e,t=Object(r.useContext)(d),n=t.tree,c=t.treey,u=void 0===n,i=void 0!==n&&void 0!==c,o=null!==(e=null===n||void 0===n?void 0:n.name)&&void 0!==e?e:"";return a.a.createElement("div",{className:"Page PageHome"},u&&a.a.createElement(Q,null),i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"RootItem"},o),a.a.createElement(te,null),a.a.createElement(Ee,{tree:n,treey:c})))}),ge=(n(238),function(e){var t=e.fullName,n=Object(r.useState)(),c=Object(i.a)(n,2),u=c[0],o=c[1],s=Object(r.useState)(!1),l=Object(i.a)(s,2),f=l[0],v=l[1],h=Object(r.useState)(!1),E=Object(i.a)(h,2),O=E[0],g=E[1],x=Object(r.useContext)(d).treey;Object(r.useEffect)((function(){if(null!=x){var e=Object(b.parseFullName)(t);null!=e?Object(m.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.read(e);case 2:void 0!==(n=t.sent)?o(n):v(!0);case 4:case"end":return t.stop()}}),t)})))():g(!0)}}),[x,t]);var w=!1===f&&!1===O&&null==u,k=null!=u,j=u&&u.name,y=u&&JSON.stringify(u.state,void 0,2);return a.a.createElement("div",{className:"ItemOverview"},w&&a.a.createElement("p",null,"is loading\u2026"),O&&a.a.createElement("p",null,t," is not valid"),f&&a.a.createElement("p",null,t," not found"),k&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,j),a.a.createElement("h2",null,"state"),a.a.createElement("p",{className:"small pre"},y),a.a.createElement("h2",null,"events"),a.a.createElement("ul",null,u&&u.events.reverse().map((function(e,t){var n=e.payload?JSON.stringify(e.payload,void 0,1):null,r=null!=n,c=String(e.datetime);return a.a.createElement("li",{key:t},a.a.createElement("strong",null,e.type),a.a.createElement("br",null),r&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"small"},n),a.a.createElement("br",null)),c)})))))}),xe=function(e){var t=e.fullName;return a.a.createElement("div",{className:"Page PageItem"},a.a.createElement(ge,{fullName:t||""}))},we=(n(239),function(){return a.a.createElement("div",{className:"Page Page404"},a.a.createElement("p",null,"404"))}),ke=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(G,null),a.a.createElement("main",null,a.a.createElement(l,null,a.a.createElement(A,null,a.a.createElement(q,null,a.a.createElement($.b,{basepath:z},a.a.createElement(Oe,{path:"/"}),a.a.createElement(xe,{path:"/item/:fullName"}),a.a.createElement(we,{default:!0})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(240);u.a.render(a.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[114,1,2]]]);
//# sourceMappingURL=main.c75a79f2.chunk.js.map